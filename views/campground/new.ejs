<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New CampGround</title>
</head>
<body> -->
    <% layout('layout/boilerplate.ejs') %>

    <div class="flex justify-center items-center min-h-screen bg-gray-100">
      <div class="bg-white shadow-lg rounded-lg border border-gray-200 w-[450px] p-6">
        
        <h2 class="text-2xl font-semibold text-gray-800 text-center">Add New Campground</h2>
        
        <form id="campForm" action="/campgrounds" method="post" class="mt-4 space-y-4" novalidate>
          
          <!-- Title -->
          <div>
            <label for="title" class="text-lg font-medium text-gray-700">Title</label>
            <input type="text" id="title" name="campground[title]" 
                   class="validate-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                   placeholder="Enter title" required>
            <span class="text-red-500 text-sm hidden">Title is required.</span>
          </div>
    
          <!-- Location -->
          <div>
            <label for="location" class="text-lg font-medium text-gray-700">Location</label>
            <input type="text" id="location" name="campground[location]" 
                   class="validate-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                   placeholder="Enter location" required>
            <span class="text-red-500 text-sm hidden">Location is required.</span>
          </div>
    
          <!-- Description -->
          <div>
            <label for="description" class="text-lg font-medium text-gray-700">Description</label>
            <textarea id="description" name="campground[description]" rows="3"
                      class="validate-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                      placeholder="Describe your camp" required></textarea>
            <span class="text-red-500 text-sm hidden">Description is required.</span>
          </div>
    
          <!-- Image URL -->
          <div>
            <label for="image" class="text-lg font-medium text-gray-700">Image URL</label>
            <input type="url" id="image" name="campground[image]" 
                   class="validate-input w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                   placeholder="https://example.com/image.jpg" required>
            <span class="text-red-500 text-sm hidden">Valid Image URL is required.</span>
          </div>
    
          <!-- Price -->
          <div class="relative">
            <label for="price" class="text-lg font-medium text-gray-700">Price</label>
            <div class="relative">
              <span class="absolute inset-y-0 left-3 flex items-center text-gray-600 text-lg">₹</span>
              <input type="number" min="0" id="price" name="campground[price]"
                     class="validate-input w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" 
                     placeholder="Enter price" required>
            </div>
            <span class="text-red-500 text-sm hidden">Price is required and must be a positive number.</span>
          </div>
    
          <!-- Buttons -->
          <div class="flex justify-between items-center">
            <button type="submit" 
                    class="w-[48%] py-2 px-4 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">
              Add Camp
            </button>
            
            <a href="/campgrounds" 
               class="w-[48%] text-center py-2 px-4 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-300">
              All Camps
            </a>
          </div>
    
        </form>
      </div>
    </div>
    <script>
      const form = document.getElementById('campForm');
      const inputs = form.querySelectorAll('.validate-input');
    
      form.addEventListener('submit', function (e) {
        let isValid = true;
    
        inputs.forEach(input => {
          const parentDiv = input.closest('div');
          const errorSpan = parentDiv.querySelector('span.text-red-500');
    
          if (!input.checkValidity()) {
            input.classList.add('border-red-500');
            input.classList.remove('border-gray-300', 'border-green-500');
            if (errorSpan) errorSpan.classList.remove('hidden');
            isValid = false;
          } else {
            input.classList.remove('border-red-500', 'border-gray-300');
            input.classList.add('border-green-500');  // ✅ Add green border when valid
            if (errorSpan) errorSpan.classList.add('hidden');
          }
        });
    
        if (!isValid) {
          e.preventDefault(); // Prevent form submission
        }
      });
    </script>
    
      
<!-- </body>
</html> -->